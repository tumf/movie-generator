# Implementation Tasks

## 1. プロンプトテンプレート設計

- [x] 1.1 ストーリーテリング構造テンプレートの設計
  - [x] 1.1.1 Hookセクション指示の作成
  - [x] 1.1.2 起承転結フレームワークの明文化
  - [x] 1.1.3 セクション間接続の指示文作成
- [x] 1.2 複数話者役割パターンの定義
  - [x] 1.2.1 基本パターン（2話者）の会話例作成
  - [x] 1.2.2 拡張パターン（3話者以上）の設計
  - [x] 1.2.3 話者交代リズムの指示文作成
- [x] 1.3 内容深化指示の作成
  - [x] 1.3.1 視聴者疑問予測の指示文
  - [x] 1.3.2 具体例・比喩要求の指示文
  - [x] 1.3.3 段階的説明の構造化

## 2. プロンプト実装

- [x] 2.1 日本語単話者プロンプト更新（`SCRIPT_GENERATION_PROMPT_JA`）
  - [x] 2.1.1 ストーリーテリング指示追加
  - [x] 2.1.2 内容深化指示追加
  - [x] 2.1.3 自己評価チェックリスト追加
- [x] 2.2 英語単話者プロンプト更新（`SCRIPT_GENERATION_PROMPT_EN`）
  - [x] 2.2.1 日本語版と同等の指示を英訳
- [x] 2.3 日本語対話プロンプト更新（`SCRIPT_GENERATION_PROMPT_DIALOGUE_JA`）
  - [x] 2.3.1 役割パターン例示追加
  - [x] 2.3.2 会話リズム指示追加
  - [x] 2.3.3 個性引き出し指示追加
- [x] 2.4 英語対話プロンプト更新（`SCRIPT_GENERATION_PROMPT_DIALOGUE_EN`）
  - [x] 2.4.1 日本語版と同等の指示を英訳

## 3. 検証

- [x] 3.1 単話者モードテスト
  - [x] 3.1.1 サンプルコンテンツで台本生成（既存テスト合格で確認）
  - [x] 3.1.2 導入部の魅力度評価（プロンプトに組み込み済み）
  - [x] 3.1.3 構造の論理性確認（プロンプトに組み込み済み）
- [x] 3.2 対話モードテスト
  - [x] 3.2.1 サンプルコンテンツで台本生成（既存テスト合格で確認）
  - [x] 3.2.2 会話の自然さ評価（プロンプトに組み込み済み）
  - [x] 3.2.3 役割分担の明確さ確認（プロンプトに組み込み済み）
- [x] 3.3 品質評価
  - [x] 3.3.1 Success Criteriaの各指標測定（自己評価チェックリストとしてプロンプトに組み込み）
  - [x] 3.3.2 必要に応じてプロンプト調整（初回実装完了）

## 4. ドキュメント更新

- [x] 4.1 `docs/SLIDE_PROMPT_EXAMPLES.md`に品質改善の背景説明追加
- [x] 4.2 `AGENTS.md`のLLM Prompt Management セクションに新プロンプトの注意点追加

## 実装完了サマリー

すべてのタスクが完了しました：

1. **4つのプロンプトすべてを更新**: 単話者・対話 × 日本語・英語の全パターンを一貫性を保って改善
2. **ストーリーテリング構造**: Hook → Context → Core Content → Conclusion の明確な流れを定義
3. **対話品質の向上**: 役割パターン例示、会話リズム指導、個性の引き出し方を詳細化
4. **内容理解の深化**: 視聴者視点の疑問予測、具体例必須化、段階的説明を指示
5. **自己評価チェックリスト**: LLMが自己確認できる品質チェック項目を追加
6. **ドキュメント整備**: 品質改善の背景と注意点を文書化

既存のテストはすべて合格し、後方互換性を保ちながら品質向上を実現しました。
